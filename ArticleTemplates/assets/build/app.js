!function(e,t){"undefined"!=typeof module?module.exports=t():"function"==typeof define&&"object"==typeof define.amd?define("domReady",t):this[e]=t()}("domready",function(){var e,t=[],n=document,o=n.documentElement.doScroll,i="DOMContentLoaded",r=(o?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return r||n.addEventListener(i,e=function(){for(n.removeEventListener(i,e),r=1;e=t.shift();)e()}),function(e){r?setTimeout(e,0):t.push(e)}}),define("modules/util",[],function(){"use strict";function e(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function t(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,i=t.top<=n&&t.top+t.height>=0,r=t.left<=o&&t.left+t.width>=0;return i&&r}function n(e){var t=e.ownerDocument.documentElement,n=e.getBoundingClientRect(),o={x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop},i=e.offsetWidth,r=e.offsetHeight,d=n.top+o.y-Math.max(0,t&&t.clientTop,document.body.clientTop),a=n.left+o.x-Math.max(0,t&&t.clientLeft,document.body.clientLeft);return{top:d,left:a,height:r,width:i}}function o(e){var t="x-gu://",n=t+e,o=document.createElement("iframe");o.style.display="none",o.src=n,document.documentElement.appendChild(o),document.documentElement.removeChild(o)}function i(){return!GU.opts.isOffline&&navigator.onLine}function r(e,t){for(;e&&(!e.classList||!e.classList.contains(t));)e=e.parentNode;return e}function d(e,t){for(;e&&e.tagName!==t.toUpperCase();)e=e.parentNode;return e}function a(e,t,n){for("string"==typeof n&&(n=[n]);e&&(!e.dataset||-1===n.indexOf(e.dataset[t]));)e=e.parentNode;return e}function l(e){return String.fromCharCode(e)}function u(e){return localStorage.getItem(e)}function c(e,t){localStorage.setItem(e,t)}function s(e,t,n){var o,i,r,d,a;return function(){r=this,o=arguments,d=function(){a=null,n||e.apply(r,o)},i=n&&!a,clearTimeout(a),a=setTimeout(d,t),i&&e.apply(r,o)}}function f(e){var t,n=[],o=document.createElement("div");for(o.innerHTML=e,t=0;t<o.childNodes.length;t++)1===o.childNodes[t].nodeType&&n.push(o.childNodes[t]);return n}return{isElementInViewport:e,isElementPartiallyInViewport:t,getElementOffset:n,signalDevice:o,isOnline:i,getClosestParentWithClass:r,getClosestParentWithTag:d,getClosestParentWithData:a,getStringFromUnicodeVal:l,getLocalStorage:u,setLocalStorage:c,debounce:s,getElemsFromHTML:f}}),define("modules/ads",["modules/util"],function(e){"use strict";function t(e){var t=o(x),n=(parseInt(e,10)||6)-1,i=document.createElement("div"),r=document.querySelector(".article__body > div.prose > :first-child"),d=document.querySelector(".article__body > div.prose > p:nth-of-type("+n+") ~ p + p");d&&d.parentNode&&(d.parentNode.insertBefore(t,d),i.classList.add("advert-slot"),i.classList.add("advert-slot--placeholder"),r&&r.parentNode&&r.parentNode.insertBefore(i,r),_=!0)}function n(t){var n,i,r,d,a=document.querySelectorAll(".article__body > .block:first-child, .article__body > div:not(.contributions-epic__container) + .block");if(t){for(i=document.getElementsByClassName("advert-slot--mpu");i.length>0;)i[0].parentNode.removeChild(i[0]);x=0}for(n=0;n<a.length;n++)d=a[n],(2===n||7===n)&&(x++,r=o(x),d.nextSibling?d.parentNode.insertBefore(r,d):d.parentNode.appendChild(r));t&&("android"===GU.opts.platform?u():e.signalDevice("ad_moved"))}function o(e){var t=document.createElement("div");return t.classList.add("advert-slot"),t.classList.add("advert-slot--mpu"),t.innerHTML='<div class="advert-slot__label">Advertisement<a class="advert-slot__action" href="x-gu://subscribe">Hide<span data-icon="&#xe04F;"></span></a></div><div class="advert-slot__wrapper" id="advert-slot__wrapper"><div class="advert-slot__wrapper__content" id="'+e+'"></div></div>',t}function i(e){var t,n,o=document.getElementsByClassName("advert-slot__wrapper"),i=document.body.scrollLeft,r=document.body.scrollTop,d={x1:-1,y1:-1,w1:-1,h1:-1,x2:-1,y2:-1,w2:-1,h2:-1};if(o.length){for(n=0;n<o.length;n++)t=o[n].getBoundingClientRect(),0!==t.width&&0!==t.height&&(d["x"+(n+1)]=t.left+i,d["y"+(n+1)]=t.top+r,d["w"+(n+1)]=t.width,d["h"+(n+1)]=t.height);return e(d)}return null}function r(){return i(d)}function d(e){return x>1?e.x1+","+e.y1+","+e.x2+","+e.y2:e.x1+","+e.y1}function a(){return i(l)}function l(e){return x>1?e.x1+"-"+e.y1+":"+e.x2+"-"+e.y2:e.x1+"-"+e.y1}function u(){i("liveblog"===b?c:s)}function c(e){var t=e.x1,n=e.y1,o=e.w1,i=e.h1,r=e.x2,d=e.y2,a=e.w2,l=e.h2;window.GuardianJSInterface.mpuLiveblogAdsPosition(t,n,o,i,r,d,a,l)}function s(e){var t=e.x1,n=e.y1,o=e.w1,i=e.h1;window.GuardianJSInterface.mpuAdsPosition(t,n,o,i)}function f(){m(1e3,a(),!0)}function m(t,n,o){var i=a();o&&"android"===GU.opts.platform&&u(),i!==n&&("android"===GU.opts.platform?u():e.signalDevice("ad_moved")),w=setTimeout(m.bind(null,t+50,i),t)}function p(){window.clearTimeout(w),w=null}function g(){!document.body.classList.contains("no-ready")&&GU.opts.useAdsReady&&e.signalDevice("ads-ready")}function v(t){var n,o=document.getElementsByClassName("advert-slot__wrapper")[0];return o&&(n=e.getElementOffset(o).top,n!==t&&("android"===GU.opts.platform?u():e.signalDevice("ad_moved"))),n}function h(){window.initMpuPoller=f,window.killMpuPoller=p,window.getMpuPosCommaSeparated=r,window.updateLiveblogAdPlaceholders=n,window.applyNativeFunctionCall("initMpuPoller")}function y(e){E||(E=!0,b=e.adsType,h(),"liveblog"===b?(_=!0,n()):(x=1,t(e.mpuAfterParagraphs)),_&&("android"!==GU.opts.platform&&f(),g()))}var w,b,_=!1,E=!1,x=0;return{init:y,updateMPUPosition:v}}),define("app",["domReady","modules/ads","modules/util"],function(e,t,n){"use strict";function o(){window.GU.util=n,e(d)}function i(e){e.init()}function r(e){return"liveblog"===e&&!GU.opts.isMinute||"liveblog"!==e&&document.querySelector(".article__body--liveblog")?"liveblog":"default"}function d(){var e=GU.opts.contentType,n=GU.opts.adsEnabled&&("true"===GU.opts.adsEnabled||-1!==GU.opts.adsEnabled.indexOf("mpu"));n&&t.init({adsConfig:GU.opts.adsConfig,adsType:r(e),mpuAfterParagraphs:GU.opts.mpuAfterParagraphs}),"article"===e?require(["article"],i):"liveblog"===e?require(["liveblog"],i):"audio"===e?require(["audio"],i):"gallery"===e?require(["gallery"],i):"football"===e?require(["football"],i):"cricket"===e?require(["cricket"],i):"video"===e?require(["video"],i):require(["bootstraps/common"],i)}return{init:o}});